<nav class="navbar navbar-fixed-top navbar-inverse">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Itransition Project</a>
        </div>
        <div id="navbar" class=" collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Home</a></li>
                <li><a href="#admin">Admin</a></li>
                <li><a href="#user">User</a></li>
            </ul>
            <form class="navbar-form navbar-right">
                <input type="text" class="form-control" placeholder="Search...">
            </form>
        </div>
    </div>
</nav>

<div class="jumbotron">
    <h1>User Page</h1>
    <p class="lead">Choose an action:</p>


    <div ng-controller="DnDController">
        <div class="simpleDemo row">

            <div class="col-md-3">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">New Elements</h3>
                    </div>
                    <ul dnd-list="list">
                        <li ng-repeat="item in models.templates"
                            dnd-draggable="item"
                            dnd-effect-allowed="copy"
                            dnd-copied="item.id = item.id + 1">
                            {{item.type}}
                        </li>
                    </ul>
                </div>

                <div class="panel panel-default">
                    <h2 class="panel-title">Trashcan</h2>
                    <ul dnd-list="[]">
                        <li><img src="img/recyclebin.png"></li>
                    </ul>
                </div>
            </div>

            <div class="col-md-6">
                <div class="row">

                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h3 class="panel-title">Step editing</h3>
                        </div>
                        <div ng-repeat="list in models.lists">
                            <ul dnd-list="list">
                                <li ng-repeat="item in list" >
                                    <div dnd-handle class="handle"
                                         dnd-draggable="item"
                                         dnd-effect-allowed="move"
                                         dnd-moved="list.splice($index, 1)"
                                         dnd-selected="models.selected = item"
                                         ng-class="{'selected': models.selected === item}">Grab me!</div>
                                        <input type="text" ng-model="item.message" class="form-control input-lg" >
                                        <p></p>
                                </li>

                            </ul>

                        </div>

                    <!-- Пытаюсь собрать всю информацию, что пользователь вводит в текстовых формах (item.message).
                        На выходе хочу получить текст, отредактированный markdown'ом -->
                    </div>
                    <div ng-repeat="item in models.lists">
                        <div ng-repeat="item in list" ng-model="mdText">
                            {{models.wholemessage}} += {{item.message}}
                        </div>
                        {{models.wholemessage}}
                        <p></p>
                    </div>
                    <!--------------->

                    <!--Рабочий пример-->
                    <div class="row">
                        <div class="col-sm-6">
                            <p>Просто начните вводить текст в текстовое поле ниже используя html теги.</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <textarea ng-model="mdText"></textarea>
                        </div>
                        <div class="col-sm-6" ng-bind-html="mdText|markdown|trust">
                            <h1><label>{{mdText}}</label></h1>
                        </div>
                    </div>
                    <!---------------->


                </div>
            </div>

            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Generated Step</h3>
                    </div>
                    <div class="panel-body">
                        <pre class="code">{{modelAsJson}}</pre>
                    </div>
                </div>
            </div>

        </div>
    </div>


</div>

    <!--<div ng-controller="postcontroller">
        <form name="instructionForm" ng-submit="submitForm()">
            <input type="text" name="textinfo" ng-model="textinfo"/>
            <br/>
            <br/>
            <button type="submit" class="btn btn-lg btn-success">Submit</button>
        </form>
        <p>{{postResultMessage}}</p>
    </div>

    <div ng-controller="getcontroller">
        <button class="btn btn-lg btn-success" ng-click="getTextInfo()">Get text from the list</button>
        <ul>
            <li ng-repeat="items in response">{{items.textinfo}}</li>
        </ul>

    </div>-->
